# @package _global_

# Override defaults by taking another config
defaults:
  - cada_base_50.yaml
  - _self_

env:
  generator_params:
    variant_preset: "ovrp" # ovrp, vrpb, vrpl, vrptw

  val_file: [ "${env.generator_params.variant_preset}/val/${env.generator_params.num_loc}.npz", ]

  val_dataloader_names: [ "${env.generator_params.variant_preset}${env.generator_params.num_loc}", ]

  test_file: [ "${env.generator_params.variant_preset}/test/${env.generator_params.num_loc}.npz", ]

  test_dataloader_names: ${env.val_dataloader_names}


model:
  _target_: models.model.LoRABaseModel
  policy:
    _target_: models.policy.CadaLoRAPolicy
    normalization: "rms"
    encoder_use_prenorm: False
    encoder_use_post_layers_norm: False
    parallel_gated_kwargs:
      mlp_activation: "silu"
    attn_sparse_ratio: 0.5
    sparse_applied_to_score: true
    prompt_embedding:
      _target_: models.env_embeddings.mtvrp.init.MTVRPPromptEmbedding
      normalization: null
    lora_rank: 32
    lora_alpha: 1.0
    lora_use_gate: true
    lora_act_func: 'sigmoid'
    lora_use_linear: false
    basis_policy_ckpt_path: null
    lora_modules_ckpt_path: null


# Logging: we use Wandb in this case
logger:
  wandb:
    project: ""
    tags: []
    group: ""
    name: ""
    entity: ""